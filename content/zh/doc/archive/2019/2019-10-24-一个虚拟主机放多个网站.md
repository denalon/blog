---
title: "一个虚拟主机放多个网站"
date: 2019-10-24T15:47:00+08:00
draft: flase
url: /web/raw/2019102401.html
---
# 一个虚拟主机放多个网站

阿里云虚拟主机只能放一个网站，为了能够搭建多个网站就要使用到伪静态文件.htaccess 文件。

阿里云虚拟机提供一个网站文件夹，也就是根目录里面可以放一个 A 网站，那么要想多放一个 B 网站，假设域名是 www.ensu.cc，还要建立一个文件夹，名字随便起，我这里叫 bweb 也就是 B 网站的根目录。

1、在阿里云虚拟主机根目录建立一个.htaccess 文件，内容如下：
```
RewriteEngine On
RewriteBase /
RewriteCond %{HTTP_HOST} ^www.ensu.cc$ [NC]
RewriteCond %{REQUEST_URI} !^/bweb
RewriteRule ^(.*)$ /bweb/$1 [L]
#要绑定多个网站，需重复上面三行代码并更改对应域名”www.ensu.cc”、目录名”/bweb”
```
2、在 bweb 文件夹内建立一个.htaccess 文件，内容如下：
```
RewriteEngine On
RewriteCond %{HTTP_HOST} !^www.ensu.cc$ [NC]
RewriteRule (.*) https://www.ensu.cc/$1 [L,R=301]
```
3、如果还想建立第三个网站，就把 1 中的那三行再次复制粘贴到下面，同时修改对应的域名和文件夹名字即可。

4、只要是 apache 环境下能使用.htaccess 的虚拟主机都可以用这个方法实现多网站共存。
