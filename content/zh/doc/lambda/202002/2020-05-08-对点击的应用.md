---
title: "2020 05 08 对点击的应用"
date: 2020-05-08T22:22:53+08:00
draft: false
url: /web/blog/2020/note/2020050804.html
---

#### 重定向跳转

通过a标签的链接,点击进入下一页是最简单的链接.而如何在不改变原文件html编码的情况下修改链接?
就需要一个点击重定向.

对固定页面比如www首页,使用点击重定向.


#### 莫名其妙的Homebrew

hugo的页面推荐安装方式是`brew install hugo` ,需要使用Homebrew安装，但是这个homebrew是mac系统上常用的包管理器，linux上并不常用。偶尔有空试试用这个Homebrew安装一下应用，奈何太难用。

#### 使用Homebrew

最莫名起来的是此程序不允许root用户运行，这种强迫着实让人反感。


然后是 推荐安装方式

 `/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install.sh)"`

 经常性无法连接。


再接着是极慢的下载速度。

![极慢的下载速度](https://cdn.jsdelivr.net/gh/denalon/ra-gh-2/image/2020050101.png)


> 事实上使用github作为软件发放源的方式，下载都极慢。



更新：更换海外服务器同步后，速度起飞

![下载速度](https://cdn.jsdelivr.net/gh/denalon/ra-gh-2/image/2020050104.png)





换一种安装方式

```
sudo yum groupinstall 'Development Tools'
sudo yum install curl file git
sudo yum install libxcrypt-compat # needed by Fedora 30 and up

```

最后一步无法安装。。。

#### 结果

无论是主页推荐安装方式，yum安装方式，源代码安装方式，均由于极慢的下载速度，找不到文件等等原因无法安装这个Homebrew 。 体验失败。


极其糟糕的使用体验。




### coding pages无法访问

5月5日晚上发现自己的博客网站访问异常,原本博客网站部署在coding pages,然后再用上阿里云cdn.出现异常原本以为是阿里云cdn缓存异常.结果长时间仍然无法访问.就将cdn停掉,直接使用源coding pages地址访问.发现无法访问.

### 换掉coding pages的服务

由于网站停止访问时间太长,已经对coding的服务产生担忧.刚开始的无法访问还以为是阿里云的问题,结果是持续服务的coding出现网络故障.


后续对所有之前使用的coding pages的页面全部改用云服务器,oss和jsdelivr.涉及到旧文档的链接都进行修改.删除coding上的仓库.停用部分coding上的项目.将博客网站从coding pages的解析换到云服务器上,

### 对coding 的信任程度下降
对coding 的迁移仅仅是处于不信任下的测试,因为国内github也不是很稳定,必须在两者这件找到平衡.

受此次故障影响,删除了几乎所有用来提供web访问的仓库,pages页面和静态资源内容全部迁出coding.

***

### 后续影响

突如其来的coding pages无法访问.导致对本地发布+coding pages浏览的方式的彻底否定.尽管是短时间的故障,却让我认识到无论是github还是gitlab coding等等服务都无法持续可靠提供web浏览.特别是放置所有静态资源,图片的网址,负责较多的静态资源甚至还部署有CDN依然无法维持可靠运行.




## 使用hugo docsy主题出现如下问题

```
  Replace Autoprefixer browsers option to Browserslist config.
  Use browserslist key in package.json or .browserslistrc file.

  Using browsers option cause some error. Browserslist config 
  can be used for Babel, Autoprefixer, postcss-normalize and other tools.

  If you really need to use option, rename it to overrideBrowserslist.

  Learn more at:
  https://github.com/browserslist/browserslist#readme
  https://twitter.com/browserslist

```
这个提醒应该是某个插件不再使用,提示修改配置,网上搜很多方法,都是含糊其词,

我搜索关键词到 ~/hugo根目录/themes/docsy/postcss.config.js 文件

然后把以下代码
```
module.exports = {
    plugins: {
        autoprefixer: {
            browsers: [
                "Android 2.3",
                "Android >= 4",
                "Chrome >= 20",
                "Firefox >= 24",
                "Explorer >= 8",
                "iOS >= 6",
                "Opera >= 12",
                "Safari >= 6"
            ]
        }
    },
}
```
改成以下代码,就不再报错

```
module.exports = {
    plugins: [
      require('autoprefixer')({overrideBrowserslist: ['> 0.15% in CN']})// 自动添加css前缀
    ]
  }
```
