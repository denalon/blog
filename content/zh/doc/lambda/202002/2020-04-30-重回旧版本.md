---
title: "2020 04 30 重回旧版本"
date: 2020-04-30T18:48:43+08:00
draft: false
url: /web/deploy2020043003.html
---

### 提交出错

由于运用新的文件格式,对g.hbn.pub的所有文件目录进行调整,包括旧文件.依符合新的文件格式的规范.然而由于之前必须确保网页URL地址长期不变,这些修改后的文件不应该发布到b.hbn.pub.又因为资源整个,g的仓库其实是跟b仓库放在一起,只是一个发布次序的问题.

以上的情况导致在发布b网页更新是,将g仓库文件原封不动的发布到b网页.导致所有的旧文件URL地区全部改变.这必然导致已经发布的url地址出现无法访问的故障,不应该发生.

针对这种异常,寻找一种办法解决.目前的措施是,撤销最近的提交,重新使用上一次文档.


### 页面地址长期有效

页面URL地址必须长期有效,无论服务在云服务器上还是oss,还是git仓库里.对外访问地址必须保持较长时间的可用.


### 针对旧地址的重定向.

后续,将调整旧地址的重定向,自动跳转到新的地址.既要保证资源整合,又需要兼顾旧文件的可用性.事实上,整个网页可以存档保持.不再更新?已经更在启用代替b地址的新的网页地址.


### 对文件的存档

文件均通过云服务器编辑和保存，然后通过内网oss进行备份。


***
更新:基于成本和管理方面的限制,已经不再要求url长期不变.

新的页面将按照新的文件格式规整排序,旧的文档将归档放入归档文件夹.